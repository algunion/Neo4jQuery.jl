<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Queries · Neo4jQuery.jl</title><meta name="title" content="Queries · Neo4jQuery.jl"/><meta property="og:title" content="Queries · Neo4jQuery.jl"/><meta property="twitter:title" content="Queries · Neo4jQuery.jl"/><meta name="description" content="Documentation for Neo4jQuery.jl."/><meta property="og:description" content="Documentation for Neo4jQuery.jl."/><meta property="twitter:description" content="Documentation for Neo4jQuery.jl."/><meta property="og:url" content="https://algunion.github.io/Neo4jQuery.jl/guide/queries/"/><meta property="twitter:url" content="https://algunion.github.io/Neo4jQuery.jl/guide/queries/"/><link rel="canonical" href="https://algunion.github.io/Neo4jQuery.jl/guide/queries/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Neo4jQuery.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><span class="tocitem">Guide</span><ul><li><a class="tocitem" href="../connections/">Connections</a></li><li class="is-active"><a class="tocitem" href>Queries</a><ul class="internal"><li><a class="tocitem" href="#Implicit-(auto-commit)-queries"><span>Implicit (auto-commit) queries</span></a></li><li><a class="tocitem" href="#Working-with-results"><span>Working with results</span></a></li><li><a class="tocitem" href="#Graph-types"><span>Graph types</span></a></li></ul></li><li><a class="tocitem" href="../transactions/">Transactions</a></li><li><a class="tocitem" href="../streaming/">Streaming</a></li><li><a class="tocitem" href="../dsl/">DSL</a></li><li><a class="tocitem" href="../biomedical_case_study/">Biomedical Case Study</a></li></ul></li><li><a class="tocitem" href="../../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Guide</a></li><li class="is-active"><a href>Queries</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Queries</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/algunion/Neo4jQuery.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/algunion/Neo4jQuery.jl/blob/main/docs/src/guide/queries.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="queries"><a class="docs-heading-anchor" href="#queries">Queries</a><a id="queries-1"></a><a class="docs-heading-anchor-permalink" href="#queries" title="Permalink"></a></h1><h2 id="Implicit-(auto-commit)-queries"><a class="docs-heading-anchor" href="#Implicit-(auto-commit)-queries">Implicit (auto-commit) queries</a><a id="Implicit-(auto-commit)-queries-1"></a><a class="docs-heading-anchor-permalink" href="#Implicit-(auto-commit)-queries" title="Permalink"></a></h2><p>The simplest way to execute Cypher:</p><pre><code class="language-julia hljs">result = query(conn, &quot;MATCH (p:Person) RETURN p.name AS name&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">QueryResult: 1 field, 3 rows
 Fields: name
  [1] (name = &quot;Alice&quot;,)
  [2] (name = &quot;Bob&quot;,)
  [3] (name = &quot;Carol&quot;,)
</code></pre><p>Every call creates an implicit (auto-commit) transaction that opens and closes with a single request.</p><h3 id="Parameters-with-@cypher_str-(recommended)"><a class="docs-heading-anchor" href="#Parameters-with-@cypher_str-(recommended)">Parameters with <code>@cypher_str</code> (recommended)</a><a id="Parameters-with-@cypher_str-(recommended)-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-with-@cypher_str-(recommended)" title="Permalink"></a></h3><p>The <code>cypher&quot;&quot;</code> string macro automatically captures local variables as parameterised Cypher — no escaping, no boilerplate:</p><pre><code class="language-julia hljs">name = &quot;Alice&quot;
age = 30
q = cypher&quot;CREATE (p:Person {name: $name, age: $age}) RETURN p&quot;
result = query(conn, q)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">QueryResult: 1 field, 1 row
 Fields: p
  [1] (p = Node(:Person {name: &quot;Alice&quot;, age: 30}),)
</code></pre><p>The macro produces a <a href="../../api/#Neo4jQuery.CypherQuery"><code>CypherQuery</code></a> that carries both the parameterised statement and the captured bindings. This prevents Cypher injection and enables server-side query plan caching.</p><p>Multi-parameter example:</p><pre><code class="language-julia hljs">min_age = 25
city = &quot;Berlin&quot;
q = cypher&quot;MATCH (p:Person) WHERE p.age &gt; $min_age AND p.city = $city RETURN p&quot;
result = query(conn, q; access_mode=:read)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">QueryResult: 1 field, 2 rows
 Fields: p
  [1] (p = Node(:Person {name: &quot;Alice&quot;, city: &quot;Berlin&quot;, age: 30}),)
  [2] (p = Node(:Person {name: &quot;Carol&quot;, city: &quot;Berlin&quot;, age: 35}),)
</code></pre><h3 id="Parameters-with-raw-strings"><a class="docs-heading-anchor" href="#Parameters-with-raw-strings">Parameters with raw strings</a><a id="Parameters-with-raw-strings-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-with-raw-strings" title="Permalink"></a></h3><p>If you prefer raw strings, pass a <code>parameters</code> dict.  Use <code>\$</code> to denote Neo4j parameter placeholders, or <code>{{param}}</code> Mustache-style placeholders to avoid escaping entirely:</p><pre><code class="language-julia hljs"># Mustache-style (no escaping needed)
result = query(conn,
    &quot;MATCH (p:Person {name: {{name}}}) RETURN p&quot;,
    parameters=Dict{String,Any}(&quot;name&quot; =&gt; &quot;Alice&quot;))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">QueryResult: 1 field, 2 rows
 Fields: p
  [1] (p = Node(:Person {name: &quot;Alice&quot;, city: &quot;Berlin&quot;, age: 30}),)
  [2] (p = Node(:Person {name: &quot;Alice&quot;, age: 30}),)
</code></pre><pre><code class="language-julia hljs"># Traditional \$-style
result = query(conn,
    &quot;MATCH (p:Person) WHERE p.age &gt; \$min_age AND p.age &lt; \$max_age RETURN p.name AS name, p.age AS age&quot;,
    parameters=Dict{String,Any}(&quot;min_age&quot; =&gt; 20, &quot;max_age&quot; =&gt; 40);
    access_mode=:read)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">QueryResult: 2 fields, 4 rows
 Fields: name, age
  [1] (name = &quot;Alice&quot;, age = 30)
  [2] (name = &quot;Bob&quot;, age = 25)
  [3] (name = &quot;Carol&quot;, age = 35)
  [4] (name = &quot;Alice&quot;, age = 30)
</code></pre><h3 id="Options"><a class="docs-heading-anchor" href="#Options">Options</a><a id="Options-1"></a><a class="docs-heading-anchor-permalink" href="#Options" title="Permalink"></a></h3><table><tr><th style="text-align: left">Keyword</th><th style="text-align: left">Type</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>parameters</code></td><td style="text-align: left"><code>Dict{String,Any}</code></td><td style="text-align: left"><code>Dict()</code></td><td style="text-align: left">Query parameters</td></tr><tr><td style="text-align: left"><code>access_mode</code></td><td style="text-align: left"><code>Symbol</code></td><td style="text-align: left"><code>:write</code></td><td style="text-align: left"><code>:read</code> or <code>:write</code> — server routing hint</td></tr><tr><td style="text-align: left"><code>include_counters</code></td><td style="text-align: left"><code>Bool</code></td><td style="text-align: left"><code>false</code></td><td style="text-align: left">Include mutation statistics</td></tr><tr><td style="text-align: left"><code>bookmarks</code></td><td style="text-align: left"><code>Vector{String}</code></td><td style="text-align: left"><code>String[]</code></td><td style="text-align: left">Causal consistency bookmarks</td></tr><tr><td style="text-align: left"><code>impersonated_user</code></td><td style="text-align: left"><code>Union{String, Nothing}</code></td><td style="text-align: left"><code>nothing</code></td><td style="text-align: left">Impersonate a different user</td></tr></table><h2 id="Working-with-results"><a class="docs-heading-anchor" href="#Working-with-results">Working with results</a><a id="Working-with-results-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-results" title="Permalink"></a></h2><p><a href="../../llm/#QueryResult"><code>QueryResult</code></a> supports indexing, iteration, and standard Julia protocols:</p><pre><code class="language-julia hljs">result = query(conn, &quot;MATCH (p:Person) RETURN p.name AS name, p.age AS age ORDER BY p.name&quot;)

# Indexing
first_row = result[1]
println(&quot;First: &quot;, first_row)

# Fields
println(&quot;Fields: &quot;, result.fields)

# Iteration
for row in result
    println(row.name, &quot; — &quot;, row.age)
end

# Comprehensions
names = [row.name for row in result]
println(&quot;Names: &quot;, names)

# Standard functions
println(&quot;Length: &quot;, length(result))
println(&quot;Empty? &quot;, isempty(result))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">First: (name = &quot;Alice&quot;, age = 30)
Fields: [&quot;name&quot;, &quot;age&quot;]
Alice — 30
Alice — 30
Bob — 25
Carol — 35
Names: [&quot;Alice&quot;, &quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;]
Length: 4
Empty? false</code></pre><h3 id="Counters"><a class="docs-heading-anchor" href="#Counters">Counters</a><a id="Counters-1"></a><a class="docs-heading-anchor-permalink" href="#Counters" title="Permalink"></a></h3><p>When <code>include_counters=true</code>, the result includes a <a href="../../api/#Neo4jQuery.QueryCounters"><code>QueryCounters</code></a> struct:</p><pre><code class="language-julia hljs">result = query(conn, &quot;CREATE (n:Test) RETURN n&quot;; include_counters=true)
c = result.counters
println(&quot;Nodes created: &quot;, c.nodes_created)
println(&quot;Properties set: &quot;, c.properties_set)
println(&quot;Labels added: &quot;, c.labels_added)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Nodes created: 1
Properties set: 0
Labels added: 1</code></pre><p>Available counter fields: <code>nodes_created</code>, <code>nodes_deleted</code>, <code>relationships_created</code>, <code>relationships_deleted</code>, <code>properties_set</code>, <code>labels_added</code>, <code>labels_removed</code>, <code>indexes_added</code>, <code>indexes_removed</code>, <code>constraints_added</code>, <code>constraints_removed</code>, <code>contains_updates</code>, <code>contains_system_updates</code>, <code>system_updates</code>.</p><h3 id="Bookmarks"><a class="docs-heading-anchor" href="#Bookmarks">Bookmarks</a><a id="Bookmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Bookmarks" title="Permalink"></a></h3><p>Every result carries <code>bookmarks</code> for causal consistency across queries:</p><pre><code class="language-julia hljs">r1 = query(conn, &quot;CREATE (n:Test)&quot;)
r2 = query(conn, &quot;MATCH (n:Test) RETURN n&quot;; bookmarks=r1.bookmarks)
println(&quot;Bookmarks: &quot;, length(r2.bookmarks), &quot; bookmark(s)&quot;)
println(&quot;Test nodes found: &quot;, length(r2))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Bookmarks: 1 bookmark(s)
Test nodes found: 2</code></pre><h3 id="Notifications"><a class="docs-heading-anchor" href="#Notifications">Notifications</a><a id="Notifications-1"></a><a class="docs-heading-anchor-permalink" href="#Notifications" title="Permalink"></a></h3><p>The server may attach performance warnings or deprecation hints:</p><pre><code class="language-julia hljs">result = query(conn, &quot;MATCH (a), (b) RETURN a, b&quot;)
for n in result.notifications
    println(n.severity, &quot;: &quot;, n.title)
    println(&quot;  &quot;, n.description)
end
println(&quot;Notifications: &quot;, length(result.notifications))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">INFORMATION: This query builds a cartesian product between disconnected patterns.
  If a part of a query contains multiple disconnected patterns, this will build a cartesian product between all those parts. This may produce a large amount of data and slow down query processing. While occasionally intended, it may often be possible to reformulate the query that avoids the use of this cross product, perhaps by adding a relationship between the different parts or by using OPTIONAL MATCH (identifier is: (b))
Notifications: 1</code></pre><h2 id="Graph-types"><a class="docs-heading-anchor" href="#Graph-types">Graph types</a><a id="Graph-types-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-types" title="Permalink"></a></h2><p>Nodes, relationships, and paths are returned as rich Julia structs:</p><pre><code class="language-julia hljs">result = query(conn, &quot;MATCH (p:Person)-[r:KNOWS]-&gt;(q) RETURN p, r, q&quot;)
row = result[1]

node = row.p
println(&quot;Node: &quot;, node)
println(&quot;Labels: &quot;, node.labels)
println(&quot;Name: &quot;, node[&quot;name&quot;])

rel = row.r
println(&quot;Rel type: &quot;, rel.type)
println(&quot;Since: &quot;, rel[&quot;since&quot;])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Node: Node(:Person {name: &quot;Alice&quot;, city: &quot;Berlin&quot;, age: 30})
Labels: [&quot;Person&quot;]
Name: Alice
Rel type: KNOWS
Since: 2024</code></pre><h3 id="Paths"><a class="docs-heading-anchor" href="#Paths">Paths</a><a id="Paths-1"></a><a class="docs-heading-anchor-permalink" href="#Paths" title="Permalink"></a></h3><pre><code class="language-julia hljs">result = query(conn, &quot;&quot;&quot;
    MATCH path = (a:Person)-[:KNOWS*1..3]-&gt;(b:Person)
    WHERE a.name = &#39;Alice&#39;
    RETURN path
&quot;&quot;&quot;; access_mode=:read)

p = result[1].path
println(&quot;Path: &quot;, p)
println(&quot;Elements: &quot;, p.elements)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Path: Path(2 nodes, 1 relationships)
Elements: Union{Node, Relationship}[Node(:Person {name: &quot;Alice&quot;, city: &quot;Berlin&quot;, age: 30}), Relationship(:KNOWS {since: 2024}), Node(:Person {name: &quot;Bob&quot;, city: &quot;Munich&quot;, age: 25})]</code></pre><h3 id="Spatial-values"><a class="docs-heading-anchor" href="#Spatial-values">Spatial values</a><a id="Spatial-values-1"></a><a class="docs-heading-anchor-permalink" href="#Spatial-values" title="Permalink"></a></h3><pre><code class="language-julia hljs">result = query(conn, &quot;RETURN point({latitude: 51.5, longitude: -0.1}) AS pt&quot;)
pt = result[1].pt
println(&quot;SRID: &quot;, pt.srid)
println(&quot;Coordinates: &quot;, pt.coordinates)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SRID: 4326
Coordinates: [-0.1, 51.5]</code></pre><h3 id="Duration-values"><a class="docs-heading-anchor" href="#Duration-values">Duration values</a><a id="Duration-values-1"></a><a class="docs-heading-anchor-permalink" href="#Duration-values" title="Permalink"></a></h3><pre><code class="language-julia hljs">result = query(conn, &quot;RETURN duration(&#39;P1Y2M3DT4H&#39;) AS d&quot;)
d = result[1].d
println(&quot;Duration: &quot;, d.value)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Duration: P1Y2M3DT4H</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../connections/">« Connections</a><a class="docs-footer-nextpage" href="../transactions/">Transactions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 16 February 2026 18:01">Monday 16 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
