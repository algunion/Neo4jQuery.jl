<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · Neo4jQuery.jl</title><meta name="title" content="API Reference · Neo4jQuery.jl"/><meta property="og:title" content="API Reference · Neo4jQuery.jl"/><meta property="twitter:title" content="API Reference · Neo4jQuery.jl"/><meta name="description" content="Documentation for Neo4jQuery.jl."/><meta property="og:description" content="Documentation for Neo4jQuery.jl."/><meta property="twitter:description" content="Documentation for Neo4jQuery.jl."/><meta property="og:url" content="https://algunion.github.io/Neo4jQuery.jl/api/"/><meta property="twitter:url" content="https://algunion.github.io/Neo4jQuery.jl/api/"/><link rel="canonical" href="https://algunion.github.io/Neo4jQuery.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Neo4jQuery.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><span class="tocitem">Guide</span><ul><li><a class="tocitem" href="../guide/connections/">Connections</a></li><li><a class="tocitem" href="../guide/queries/">Queries</a></li><li><a class="tocitem" href="../guide/transactions/">Transactions</a></li><li><a class="tocitem" href="../guide/streaming/">Streaming</a></li><li><a class="tocitem" href="../guide/dsl/">DSL</a></li><li><a class="tocitem" href="../guide/biomedical_case_study/">Biomedical Case Study</a></li></ul></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Connection"><span>Connection</span></a></li><li><a class="tocitem" href="#Authentication"><span>Authentication</span></a></li><li><a class="tocitem" href="#Environment"><span>Environment</span></a></li><li><a class="tocitem" href="#Query"><span>Query</span></a></li><li><a class="tocitem" href="#Transactions"><span>Transactions</span></a></li><li><a class="tocitem" href="#Streaming"><span>Streaming</span></a></li><li><a class="tocitem" href="#Result-Types"><span>Result Types</span></a></li><li><a class="tocitem" href="#Graph-Types"><span>Graph Types</span></a></li><li><a class="tocitem" href="#Errors"><span>Errors</span></a></li><li><a class="tocitem" href="#DSL-—-Schema"><span>DSL — Schema</span></a></li><li><a class="tocitem" href="#DSL-—-Macros"><span>DSL — Macros</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/algunion/Neo4jQuery.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/algunion/Neo4jQuery.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="api-reference"><a class="docs-heading-anchor" href="#api-reference">API Reference</a><a id="api-reference-1"></a><a class="docs-heading-anchor-permalink" href="#api-reference" title="Permalink"></a></h1><p>Full reference for all public types and functions.</p><h2 id="Connection"><a class="docs-heading-anchor" href="#Connection">Connection</a><a id="Connection-1"></a><a class="docs-heading-anchor-permalink" href="#Connection" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.Neo4jConnection"><a class="docstring-binding" href="#Neo4jQuery.Neo4jConnection"><code>Neo4jQuery.Neo4jConnection</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Neo4jConnection</code></pre><p>Represents a connection to a Neo4j database via the Query API v2.</p><p>Create one with <a href="@ref"><code>connect</code></a> rather than calling the constructor directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/connection.jl#L3-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.connect"><a class="docstring-binding" href="#Neo4jQuery.connect"><code>Neo4jQuery.connect</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">connect(host, database; port=7474, auth, scheme=&quot;http&quot;) -&gt; Neo4jConnection</code></pre><p>Establish a connection to a Neo4j instance.  Validates connectivity by hitting the discovery endpoint (<code>GET /</code>).</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">conn = connect(&quot;localhost&quot;, &quot;neo4j&quot;; auth=BasicAuth(&quot;neo4j&quot;, &quot;password&quot;))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/connection.jl#L16-L26">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.connect_from_env"><a class="docstring-binding" href="#Neo4jQuery.connect_from_env"><code>Neo4jQuery.connect_from_env</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">connect_from_env(; path=&quot;.env&quot;, prefix=&quot;NEO4J_&quot;) -&gt; Neo4jConnection</code></pre><p>Convenience constructor that loads credentials from environment variables (optionally reading a <code>.env</code> file first) and returns a ready-to-use connection.</p><p>Expected variables (with default <code>NEO4J_</code> prefix):</p><ul><li><code>NEO4J_URI</code>      — full URI, e.g. <code>neo4j+s://xxx.databases.neo4j.io</code></li><li><code>NEO4J_USERNAME</code> — e.g. <code>neo4j</code></li><li><code>NEO4J_PASSWORD</code> — the password</li><li><code>NEO4J_DATABASE</code> — e.g. <code>neo4j</code>  (defaults to <code>&quot;neo4j&quot;</code> if unset)</li></ul><p>The URI scheme is mapped automatically:</p><ul><li><code>neo4j+s://</code>, <code>neo4j+ssc://</code> → HTTPS (port 443)</li><li><code>neo4j://</code>, <code>bolt://</code> → HTTP (port 7474)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">conn = connect_from_env()                    # reads .env, connects
conn = connect_from_env(path=&quot;prod.env&quot;)     # different file</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/env.jl#L53-L74">source</a></section></details></article><h2 id="Authentication"><a class="docs-heading-anchor" href="#Authentication">Authentication</a><a id="Authentication-1"></a><a class="docs-heading-anchor-permalink" href="#Authentication" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.AbstractAuth"><a class="docstring-binding" href="#Neo4jQuery.AbstractAuth"><code>Neo4jQuery.AbstractAuth</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AbstractAuth</code></pre><p>Abstract type for authentication strategies used to authorize Neo4j requests.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/auth.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.BasicAuth"><a class="docstring-binding" href="#Neo4jQuery.BasicAuth"><code>Neo4jQuery.BasicAuth</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">BasicAuth(username::String, password::String)</code></pre><p>HTTP Basic authentication (RFC 7617).  Generates an <code>Authorization: Basic …</code> header from the supplied credentials.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">auth = BasicAuth(&quot;neo4j&quot;, &quot;verysecret&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/auth.jl#L10-L20">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.BearerAuth"><a class="docstring-binding" href="#Neo4jQuery.BearerAuth"><code>Neo4jQuery.BearerAuth</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">BearerAuth(token::String)</code></pre><p>HTTP Bearer-token authentication.  Generates an <code>Authorization: Bearer …</code> header from the supplied token.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">auth = BearerAuth(&quot;xbhkjnlvianztghqwawxqfe&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/auth.jl#L26-L36">source</a></section></details></article><h2 id="Environment"><a class="docs-heading-anchor" href="#Environment">Environment</a><a id="Environment-1"></a><a class="docs-heading-anchor-permalink" href="#Environment" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.dotenv"><a class="docstring-binding" href="#Neo4jQuery.dotenv"><code>Neo4jQuery.dotenv</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dotenv(path=&quot;.env&quot;; overwrite=false) -&gt; Dict{String,String}</code></pre><p>Parse a <code>.env</code> file and load its key-value pairs into <code>ENV</code>. Returns the parsed dictionary.</p><p>Lines starting with <code>#</code> are treated as comments and ignored. Empty lines are skipped.  Values may optionally be quoted with <code>&quot;</code> or <code>&#39;</code>.</p><p>If <code>overwrite</code> is <code>false</code> (default), existing <code>ENV</code> entries are <em>not</em> overwritten—the file values serve as defaults.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">dotenv()                        # loads .env from current directory
dotenv(&quot;config/.env.test&quot;)      # loads a specific file</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/env.jl#L3-L20">source</a></section></details></article><h2 id="Query"><a class="docs-heading-anchor" href="#Query">Query</a><a id="Query-1"></a><a class="docs-heading-anchor-permalink" href="#Query" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.query"><a class="docstring-binding" href="#Neo4jQuery.query"><code>Neo4jQuery.query</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">query(conn, statement; parameters, access_mode, include_counters, bookmarks, impersonated_user) -&gt; QueryResult</code></pre><p>Execute a Cypher <code>statement</code> against the database using an implicit transaction.</p><p><strong>Arguments</strong></p><ul><li><code>conn::Neo4jConnection</code> — the connection to use.</li><li><code>statement::String</code> — the Cypher query text.  Use <code>{{param}}</code> placeholders for parameters (converted to <code>$param</code> for Neo4j), or the traditional <code>\$param</code> escape if you prefer.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>parameters::Dict{String,Any}=Dict{String,Any}()</code> — query parameters.</li><li><code>access_mode::Symbol=:write</code> — <code>:read</code> or <code>:write</code> for cluster routing.</li><li><code>include_counters::Bool=false</code> — whether to request query counters.</li><li><code>bookmarks::Vector{String}=String[]</code> — bookmarks for causal consistency.</li><li><code>impersonated_user::Union{String,Nothing}=nothing</code> — run as another user.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Recommended: Mustache-style placeholders (no escaping needed)
result = query(conn,
    &quot;MATCH (p:Person) WHERE p.age &gt; {{min_age}} RETURN p.name AS name&quot;,
    parameters=Dict{String,Any}(&quot;min_age&quot; =&gt; 25))

# Also works: escaped $ (traditional Cypher style)
result = query(conn,
    &quot;MATCH (p:Person) WHERE p.age &gt; \$min_age RETURN p.name AS name&quot;,
    parameters=Dict{String,Any}(&quot;min_age&quot; =&gt; 25))

# Best: use the cypher&quot;&quot; string macro for automatic parameter capture
min_age = 25
q = cypher&quot;MATCH (p:Person) WHERE p.age &gt; $min_age RETURN p.name AS name&quot;
result = query(conn, q)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/query.jl#L3-L38">source</a></section><section><div><pre><code class="language-julia hljs">query(conn, q::CypherQuery; kwargs...) -&gt; QueryResult</code></pre><p>Execute a <a href="#Neo4jQuery.CypherQuery"><code>CypherQuery</code></a> (typically from the <code>@cypher_str</code> macro). Parameters from the <code>CypherQuery</code> are merged with any extra <code>parameters</code> kwarg (the kwarg takes precedence on conflicts).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/query.jl#L53-L59">source</a></section><section><div><pre><code class="language-julia hljs">query(tx::Transaction, statement; parameters, include_counters) -&gt; QueryResult</code></pre><p>Execute a Cypher statement inside an open transaction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L73-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.CypherQuery"><a class="docstring-binding" href="#Neo4jQuery.CypherQuery"><code>Neo4jQuery.CypherQuery</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CypherQuery</code></pre><p>A Cypher query statement together with its parameter bindings.  Typically constructed via the <a href="#Neo4jQuery.@cypher_str"><code>@cypher_str</code></a> string macro.</p><p><strong>Fields</strong></p><ul><li><code>statement::String</code> — the Cypher text (with <code>$param</code> placeholders)</li><li><code>parameters::Dict{String,Any}</code> — parameter name → Julia value</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/cypher_macro.jl#L3-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@cypher_str"><a class="docstring-binding" href="#Neo4jQuery.@cypher_str"><code>Neo4jQuery.@cypher_str</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@cypher_str -&gt; CypherQuery</code></pre><p>Create a <a href="#Neo4jQuery.CypherQuery"><code>CypherQuery</code></a> from a Cypher string literal, automatically capturing local variables referenced with <code>$</code> as query parameters.</p><p>Julia does <strong>not</strong> interpolate <code>$</code> inside non-standard string literals, so the <code>$</code> is passed through verbatim and the macro can detect it as a Cypher parameter reference.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">name = &quot;Alice&quot;
age  = 42
q = cypher&quot;MATCH (n:Person {name: $name, age: $age}) RETURN n&quot;
# CypherQuery(&quot;MATCH (n:Person {name: $name, age: $age}) RETURN n&quot;, 2 parameters)
# q.parameters == Dict(&quot;name&quot; =&gt; &quot;Alice&quot;, &quot;age&quot; =&gt; 42)</code></pre><p>The resulting query uses parameterised Cypher, which is both safer (no injection) and faster (query plan caching).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/cypher_macro.jl#L23-L44">source</a></section></details></article><h2 id="Transactions"><a class="docs-heading-anchor" href="#Transactions">Transactions</a><a id="Transactions-1"></a><a class="docs-heading-anchor-permalink" href="#Transactions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.Transaction"><a class="docstring-binding" href="#Neo4jQuery.Transaction"><code>Neo4jQuery.Transaction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Transaction</code></pre><p>An explicit Neo4j transaction.  Obtain one via <a href="#Neo4jQuery.begin_transaction"><code>begin_transaction</code></a> or the <a href="#Neo4jQuery.transaction"><code>transaction</code></a> do-block helper.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L3-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.begin_transaction"><a class="docstring-binding" href="#Neo4jQuery.begin_transaction"><code>Neo4jQuery.begin_transaction</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">begin_transaction(conn; statement=nothing, parameters=Dict{String,Any}()) -&gt; Transaction</code></pre><p>Open a new explicit transaction, optionally executing an initial statement.</p><p>The <code>statement</code> keyword accepts a plain <code>String</code>, a <a href="#Neo4jQuery.CypherQuery"><code>CypherQuery</code></a> (from <code>cypher&quot;...&quot;</code>), or <code>nothing</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">tx = begin_transaction(conn)
result = query(tx, cypher&quot;CREATE (n:Person {name: $name}) RETURN n&quot;)
commit!(tx)

# With an initial statement
name = &quot;Alice&quot;
tx = begin_transaction(conn; statement=cypher&quot;CREATE (n:Person {name: $name}) RETURN n&quot;)
commit!(tx)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L27-L46">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.commit!"><a class="docstring-binding" href="#Neo4jQuery.commit!"><code>Neo4jQuery.commit!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">commit!(tx; statement=nothing, parameters=Dict{String,Any}()) -&gt; Vector{String}</code></pre><p>Commit an open transaction, optionally executing a final statement. Returns the bookmarks from the committed transaction.</p><p>The <code>statement</code> keyword accepts a plain <code>String</code>, a <a href="#Neo4jQuery.CypherQuery"><code>CypherQuery</code></a> (from <code>cypher&quot;...&quot;</code>), or <code>nothing</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">tx = begin_transaction(conn)
bookmarks = commit!(tx; statement=cypher&quot;CREATE (n:Final) RETURN n&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L106-L120">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.rollback!"><a class="docstring-binding" href="#Neo4jQuery.rollback!"><code>Neo4jQuery.rollback!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rollback!(tx::Transaction) -&gt; Nothing</code></pre><p>Roll back an open transaction, discarding all changes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L144-L148">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.transaction"><a class="docstring-binding" href="#Neo4jQuery.transaction"><code>Neo4jQuery.transaction</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">transaction(f, conn; kwargs...) -&gt; result</code></pre><p>Execute <code>f(tx)</code> inside an explicit transaction.  The transaction is committed if <code>f</code> returns normally, or rolled back if an exception is thrown.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">transaction(conn) do tx
    query(tx, &quot;CREATE (a:Person {name: &#39;Alice&#39;})&quot;)
    query(tx, &quot;CREATE (b:Person {name: &#39;Bob&#39;})&quot;)
end  # auto-commit</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/transactions.jl#L159-L172">source</a></section></details></article><h2 id="Streaming"><a class="docs-heading-anchor" href="#Streaming">Streaming</a><a id="Streaming-1"></a><a class="docs-heading-anchor-permalink" href="#Streaming" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.stream"><a class="docstring-binding" href="#Neo4jQuery.stream"><code>Neo4jQuery.stream</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">stream(conn, statement; parameters, access_mode, bookmarks, impersonated_user) -&gt; StreamingResult</code></pre><p>Execute a Cypher query with streaming enabled.  Returns a <code>StreamingResult</code> that yields <code>NamedTuple</code> rows via iteration.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">for row in stream(conn, &quot;MATCH (n:Person) RETURN n.name AS name&quot;)
    println(row.name)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/streaming.jl#L71-L83">source</a></section><section><div><pre><code class="language-julia hljs">stream(tx::Transaction, statement; parameters) -&gt; StreamingResult</code></pre><p>Execute a streaming query inside an existing explicit transaction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/streaming.jl#L102-L106">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.StreamingResult"><a class="docstring-binding" href="#Neo4jQuery.StreamingResult"><code>Neo4jQuery.StreamingResult</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">StreamingResult</code></pre><p>An in-progress streaming query result.  Implements Julia&#39;s iteration protocol so records can be consumed with a <code>for</code> loop:</p><pre><code class="language-julia hljs">for row in stream(conn, &quot;MATCH (n) RETURN n.name AS name&quot;)
    println(row.name)
end</code></pre><p>After iteration completes (or is interrupted), call <a href="#Neo4jQuery.summary"><code>summary</code></a> to retrieve bookmarks, counters, and notifications.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/streaming.jl#L3-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.summary"><a class="docstring-binding" href="#Neo4jQuery.summary"><code>Neo4jQuery.summary</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">summary(sr::StreamingResult) -&gt; NamedTuple</code></pre><p>Access bookmarks, counters, notifications, and query plans after the stream has been consumed.  Returns a <code>NamedTuple</code> with keys:</p><ul><li><code>bookmarks::Vector{String}</code></li><li><code>counters::Union{QueryCounters, Nothing}</code></li><li><code>notifications::Vector{Notification}</code></li><li><code>transaction::Union{JSON.Object, Nothing}</code></li><li><code>query_plan::Union{JSON.Object, Nothing}</code></li><li><code>profiled_query_plan::Union{JSON.Object, Nothing}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/streaming.jl#L37-L48">source</a></section></details></article><h2 id="Result-Types"><a class="docs-heading-anchor" href="#Result-Types">Result Types</a><a id="Result-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Result-Types" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.QueryResult"><a class="docstring-binding" href="#Neo4jQuery.QueryResult"><code>Neo4jQuery.QueryResult</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QueryResult</code></pre><p>The result of a Cypher query.  Supports iteration and indexing—each row is a <code>NamedTuple</code> whose keys match the query&#39;s field names.</p><p><strong>Iteration</strong></p><pre><code class="language-julia hljs">for row in result
    println(row.name, &quot; is &quot;, row.age, &quot; years old&quot;)
end</code></pre><p><strong>Indexing</strong></p><pre><code class="language-julia hljs">result[1]          # first row as NamedTuple
result[end]        # last row
length(result)     # number of rows</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/result.jl#L94-L113">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.QueryCounters"><a class="docstring-binding" href="#Neo4jQuery.QueryCounters"><code>Neo4jQuery.QueryCounters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QueryCounters</code></pre><p>Statistics about database changes performed by a query.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/result.jl#L33-L37">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.Notification"><a class="docstring-binding" href="#Neo4jQuery.Notification"><code>Neo4jQuery.Notification</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Notification</code></pre><p>A server notification (performance warning, deprecation hint, etc.) attached to a query response.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/result.jl#L3-L8">source</a></section></details></article><h2 id="Graph-Types"><a class="docs-heading-anchor" href="#Graph-Types">Graph Types</a><a id="Graph-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-Types" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.Node"><a class="docstring-binding" href="#Neo4jQuery.Node"><code>Neo4jQuery.Node</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Node</code></pre><p>A Neo4j graph node with an element ID, labels, and a property map.</p><p>Property access is supported via both indexing and dot syntax:</p><pre><code class="language-julia hljs">node[&quot;name&quot;]   # indexing
node.name      # dot syntax</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L3-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.Relationship"><a class="docstring-binding" href="#Neo4jQuery.Relationship"><code>Neo4jQuery.Relationship</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Relationship</code></pre><p>A Neo4j graph relationship with an element ID, start/end node element IDs, a type string, and a property map.</p><pre><code class="language-julia hljs">rel[&quot;since&quot;]   # indexing
rel.since      # dot syntax</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L21-L31">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.Path"><a class="docstring-binding" href="#Neo4jQuery.Path"><code>Neo4jQuery.Path</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Path</code></pre><p>A Neo4j graph path—an alternating sequence of <a href="../llm/#Node"><code>Node</code></a> and <a href="../llm/#Relationship"><code>Relationship</code></a> objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L40-L45">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.CypherPoint"><a class="docstring-binding" href="#Neo4jQuery.CypherPoint"><code>Neo4jQuery.CypherPoint</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CypherPoint</code></pre><p>A Cypher spatial point value.  Stored as an SRID integer and a coordinate vector. Serialised on the wire as a WKT string, e.g. <code>&quot;SRID=7203;POINT (1.2 3.4)&quot;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L50-L55">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.CypherDuration"><a class="docstring-binding" href="#Neo4jQuery.CypherDuration"><code>Neo4jQuery.CypherDuration</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CypherDuration</code></pre><p>A Cypher duration value.  Stored as the original ISO-8601 string (e.g. <code>&quot;P14DT16H12M&quot;</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L61-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.CypherVector"><a class="docstring-binding" href="#Neo4jQuery.CypherVector"><code>Neo4jQuery.CypherVector</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CypherVector</code></pre><p>A Neo4j vector value (Enterprise Edition).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/types.jl#L71-L75">source</a></section></details></article><h2 id="Errors"><a class="docs-heading-anchor" href="#Errors">Errors</a><a id="Errors-1"></a><a class="docs-heading-anchor-permalink" href="#Errors" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.Neo4jError"><a class="docstring-binding" href="#Neo4jQuery.Neo4jError"><code>Neo4jQuery.Neo4jError</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Neo4jError &lt;: Exception</code></pre><p>Abstract base type for all Neo4j-related errors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/errors.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.AuthenticationError"><a class="docstring-binding" href="#Neo4jQuery.AuthenticationError"><code>Neo4jQuery.AuthenticationError</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AuthenticationError &lt;: Neo4jError</code></pre><p>Raised when the server returns HTTP 401 (missing, incorrect, or invalid credentials).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/errors.jl#L10-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.Neo4jQueryError"><a class="docstring-binding" href="#Neo4jQuery.Neo4jQueryError"><code>Neo4jQuery.Neo4jQueryError</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Neo4jQueryError &lt;: Neo4jError</code></pre><p>Raised when the server response contains an <code>errors</code> array (query syntax errors, constraint violations, etc.).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/errors.jl#L24-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.TransactionExpiredError"><a class="docstring-binding" href="#Neo4jQuery.TransactionExpiredError"><code>Neo4jQuery.TransactionExpiredError</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TransactionExpiredError &lt;: Neo4jError</code></pre><p>Raised when a request targets a transaction that has already expired or been rolled back on the server side.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/errors.jl#L39-L44">source</a></section></details></article><h2 id="DSL-—-Schema"><a class="docs-heading-anchor" href="#DSL-—-Schema">DSL — Schema</a><a id="DSL-—-Schema-1"></a><a class="docs-heading-anchor-permalink" href="#DSL-—-Schema" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.PropertyDef"><a class="docstring-binding" href="#Neo4jQuery.PropertyDef"><code>Neo4jQuery.PropertyDef</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PropertyDef</code></pre><p>A single property definition within a node or relationship schema.</p><p><strong>Fields</strong></p><ul><li><code>name::Symbol</code> — property name</li><li><code>type::Symbol</code> — Julia type name (e.g. <code>:String</code>, <code>:Int</code>)</li><li><code>required::Bool</code> — whether the property must be supplied on creation</li><li><code>default</code> — default value for optional properties, or <code>nothing</code> for required</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L12-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.NodeSchema"><a class="docstring-binding" href="#Neo4jQuery.NodeSchema"><code>Neo4jQuery.NodeSchema</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NodeSchema</code></pre><p>Schema descriptor for a Neo4j node label, created by the <a href="../llm/#@node"><code>@node</code></a> macro.</p><p><strong>Fields</strong></p><ul><li><code>label::Symbol</code> — the Neo4j label (e.g. <code>:Person</code>)</li><li><code>properties::Vector{PropertyDef}</code> — typed property definitions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L38-L46">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.RelSchema"><a class="docstring-binding" href="#Neo4jQuery.RelSchema"><code>Neo4jQuery.RelSchema</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">RelSchema</code></pre><p>Schema descriptor for a Neo4j relationship type, created by the <a href="../llm/#@rel"><code>@rel</code></a> macro.</p><p><strong>Fields</strong></p><ul><li><code>reltype::Symbol</code> — the relationship type (e.g. <code>:KNOWS</code>)</li><li><code>properties::Vector{PropertyDef}</code> — typed property definitions</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L56-L64">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@node"><a class="docstring-binding" href="#Neo4jQuery.@node"><code>Neo4jQuery.@node</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@node Name begin
    field::Type
    optional_field::Type = default_value
end</code></pre><p>Declare a node schema with label <code>Name</code> and typed properties.</p><p>Creates a constant <code>Name::NodeSchema</code> and registers it for runtime validation in <code>@create</code> and <code>@merge</code> operations.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@node Person begin
    name::String
    age::Int
    email::String = &quot;&quot;
end

# Person is now a NodeSchema constant
Person.label       # :Person
Person.properties  # [PropertyDef(:name, :String, true, nothing), ...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L158-L181">source</a></section><section><div><pre><code class="language-julia hljs">@node Name</code></pre><p>Declare a node schema with no properties (label-only).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L199-L203">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@rel"><a class="docstring-binding" href="#Neo4jQuery.@rel"><code>Neo4jQuery.@rel</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@rel TYPE begin
    field::Type
    optional_field::Type = default_value
end</code></pre><p>Declare a relationship schema with type <code>TYPE</code> and typed properties.</p><p>Creates a constant <code>TYPE::RelSchema</code> and registers it for runtime validation.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@rel KNOWS begin
    since::Int
    weight::Float64 = 1.0
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L217-L234">source</a></section><section><div><pre><code class="language-julia hljs">@rel TYPE</code></pre><p>Declare a relationship schema with no properties (type-only).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L252-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.get_node_schema"><a class="docstring-binding" href="#Neo4jQuery.get_node_schema"><code>Neo4jQuery.get_node_schema</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Look up a registered node schema by label, or return <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.get_rel_schema"><a class="docstring-binding" href="#Neo4jQuery.get_rel_schema"><code>Neo4jQuery.get_rel_schema</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>Look up a registered relationship schema by type, or return <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L82">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.validate_node_properties"><a class="docstring-binding" href="#Neo4jQuery.validate_node_properties"><code>Neo4jQuery.validate_node_properties</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">validate_node_properties(schema::NodeSchema, props::Dict{String,&lt;:Any})</code></pre><p>Validate that <code>props</code> satisfies the schema&#39;s required properties. Warns on unknown properties not declared in the schema. Throws on missing required properties.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L87-L93">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.validate_rel_properties"><a class="docstring-binding" href="#Neo4jQuery.validate_rel_properties"><code>Neo4jQuery.validate_rel_properties</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">validate_rel_properties(schema::RelSchema, props::Dict{String,&lt;:Any})</code></pre><p>Validate that <code>props</code> satisfies the schema&#39;s required properties.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/schema.jl#L98-L102">source</a></section></details></article><h2 id="DSL-—-Macros"><a class="docs-heading-anchor" href="#DSL-—-Macros">DSL — Macros</a><a id="DSL-—-Macros-1"></a><a class="docs-heading-anchor-permalink" href="#DSL-—-Macros" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="Neo4jQuery.@cypher"><a class="docstring-binding" href="#Neo4jQuery.@cypher"><code>Neo4jQuery.@cypher</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@cypher conn begin ... end
@cypher conn [comprehension]</code></pre><p>Unified graph query DSL that compiles Julia expressions to parameterized Cypher.</p><p>Combines Julia-native ergonomics with full Cypher coverage.</p><p><strong>Pattern Syntax</strong></p><p>The <code>&gt;&gt;</code> chain is the primary pattern language. Arrow syntax also works.</p><table><tr><th style="text-align: left">Julia</th><th style="text-align: left">Cypher</th></tr><tr><td style="text-align: left"><code>p::Person</code></td><td style="text-align: left"><code>(p:Person)</code></td></tr><tr><td style="text-align: left"><code>::Person</code></td><td style="text-align: left"><code>(:Person)</code></td></tr><tr><td style="text-align: left"><code>p::Person &gt;&gt; r::KNOWS &gt;&gt; q::Person</code></td><td style="text-align: left"><code>(p:Person)-[r:KNOWS]-&gt;(q:Person)</code></td></tr><tr><td style="text-align: left"><code>p::Person &gt;&gt; KNOWS &gt;&gt; q::Person</code></td><td style="text-align: left"><code>(p:Person)-[:KNOWS]-&gt;(q:Person)</code></td></tr><tr><td style="text-align: left"><code>p::Person &lt;&lt; r::KNOWS &lt;&lt; q::Person</code></td><td style="text-align: left"><code>(p:Person)&lt;-[r:KNOWS]-(q:Person)</code></td></tr><tr><td style="text-align: left"><code>a::A &gt;&gt; R1 &gt;&gt; b::B &gt;&gt; R2 &gt;&gt; c::C</code></td><td style="text-align: left"><code>(a:A)-[:R1]-&gt;(b:B)-[:R2]-&gt;(c:C)</code></td></tr><tr><td style="text-align: left"><code>(p:Person)-[r:KNOWS]-&gt;(q:Person)</code></td><td style="text-align: left"><code>(p:Person)-[r:KNOWS]-&gt;(q:Person)</code></td></tr><tr><td style="text-align: left"><code>a::A &gt;&gt; KNOWS{2,5} &gt;&gt; b::B</code></td><td style="text-align: left"><code>(a:A)-[:KNOWS]-&gt;{2,5}(b:B)</code></td></tr><tr><td style="text-align: left"><code>a::A &gt;&gt; r::KNOWS{1,nothing} &gt;&gt; b::B</code></td><td style="text-align: left"><code>(a:A)-[r:KNOWS]-&gt;+(b:B)</code></td></tr><tr><td style="text-align: left"><code>a::A &gt;&gt; KNOWS{0,nothing} &gt;&gt; b::B</code></td><td style="text-align: left"><code>(a:A)-[:KNOWS]-&gt;*(b:B)</code></td></tr><tr><td style="text-align: left"><code>a::A &gt;&gt; KNOWS{3} &gt;&gt; b::B</code></td><td style="text-align: left"><code>(a:A)-[:KNOWS]-&gt;{3}(b:B)</code></td></tr></table><p><strong>Path Variables</strong></p><p>Assign a pattern to a path variable with <code>=</code>:</p><table><tr><th style="text-align: left">Julia</th><th style="text-align: left">Cypher</th></tr><tr><td style="text-align: left"><code>p = a::A &gt;&gt; R &gt;&gt; b::B</code></td><td style="text-align: left"><code>MATCH p = (a:A)-[:R]-&gt;(b:B)</code></td></tr></table><p><strong>Shortest Path Selectors</strong></p><table><tr><th style="text-align: left">Julia</th><th style="text-align: left">Cypher</th></tr><tr><td style="text-align: left"><code>shortest(k, pattern)</code></td><td style="text-align: left"><code>MATCH SHORTEST k pattern</code></td></tr><tr><td style="text-align: left"><code>all_shortest(pattern)</code></td><td style="text-align: left"><code>MATCH ALL SHORTEST pattern</code></td></tr><tr><td style="text-align: left"><code>shortest_groups(k, pattern)</code></td><td style="text-align: left"><code>MATCH SHORTEST k GROUPS pattern</code></td></tr><tr><td style="text-align: left"><code>any_paths(pattern)</code> / <code>any_paths(k, pattern)</code></td><td style="text-align: left"><code>MATCH ANY [k] pattern</code></td></tr><tr><td style="text-align: left"><code>p = shortest(1, pattern)</code></td><td style="text-align: left"><code>MATCH p = SHORTEST 1 pattern</code></td></tr></table><p><strong>Clause Functions</strong></p><table><tr><th style="text-align: left">Clause</th><th style="text-align: left">Cypher</th></tr><tr><td style="text-align: left"><code>where(cond1, cond2)</code></td><td style="text-align: left"><code>WHERE cond1 AND cond2</code></td></tr><tr><td style="text-align: left"><code>ret(expr =&gt; :alias, ...)</code></td><td style="text-align: left"><code>RETURN expr AS alias, ...</code></td></tr><tr><td style="text-align: left"><code>ret(distinct, expr)</code></td><td style="text-align: left"><code>RETURN DISTINCT expr</code></td></tr><tr><td style="text-align: left"><code>returning(expr)</code></td><td style="text-align: left"><code>RETURN expr</code> (alias for <code>ret</code>)</td></tr><tr><td style="text-align: left"><code>order(expr, :desc)</code></td><td style="text-align: left"><code>ORDER BY expr DESC</code></td></tr><tr><td style="text-align: left"><code>take(n)</code> / <code>skip(n)</code></td><td style="text-align: left"><code>LIMIT n</code> / <code>SKIP n</code></td></tr><tr><td style="text-align: left"><code>create(pattern)</code> / <code>merge(pattern)</code></td><td style="text-align: left"><code>CREATE</code> / <code>MERGE</code></td></tr><tr><td style="text-align: left"><code>optional(pattern)</code></td><td style="text-align: left"><code>OPTIONAL MATCH pattern</code></td></tr><tr><td style="text-align: left"><code>match(p1, p2)</code></td><td style="text-align: left"><code>MATCH p1, p2</code> (explicit multi)</td></tr><tr><td style="text-align: left"><code>with(expr =&gt; :alias, ...)</code></td><td style="text-align: left"><code>WITH expr AS alias, ...</code></td></tr><tr><td style="text-align: left"><code>unwind($list =&gt; :var)</code></td><td style="text-align: left"><code>UNWIND $list AS var</code></td></tr><tr><td style="text-align: left"><code>delete(vars)</code> / <code>detach_delete(vars)</code></td><td style="text-align: left"><code>DELETE</code> / <code>DETACH DELETE</code></td></tr><tr><td style="text-align: left"><code>on_create(p.prop = val)</code></td><td style="text-align: left"><code>ON CREATE SET p.prop = val</code></td></tr><tr><td style="text-align: left"><code>on_match(p.prop = val)</code></td><td style="text-align: left"><code>ON MATCH SET p.prop = val</code></td></tr><tr><td style="text-align: left"><code>p.prop = $val</code> (assignment)</td><td style="text-align: left"><code>SET p.prop = $val</code> (auto-SET)</td></tr><tr><td style="text-align: left"><code>remove(items)</code></td><td style="text-align: left"><code>REMOVE items</code></td></tr><tr><td style="text-align: left"><code>union()</code> / <code>union_all()</code></td><td style="text-align: left"><code>UNION</code> / <code>UNION ALL</code></td></tr><tr><td style="text-align: left"><code>call(begin ... end)</code></td><td style="text-align: left"><code>CALL { ... }</code> subquery</td></tr><tr><td style="text-align: left"><code>load_csv(url =&gt; :row)</code></td><td style="text-align: left"><code>LOAD CSV FROM url AS row</code></td></tr><tr><td style="text-align: left"><code>load_csv_headers(url =&gt; :row)</code></td><td style="text-align: left"><code>LOAD CSV WITH HEADERS ...</code></td></tr><tr><td style="text-align: left"><code>foreach(expr =&gt; :var, begin...end)</code></td><td style="text-align: left"><code>FOREACH (var IN expr | ...)</code></td></tr><tr><td style="text-align: left"><code>create_index(:Label, :prop)</code></td><td style="text-align: left"><code>CREATE INDEX ...</code></td></tr><tr><td style="text-align: left"><code>drop_index(:name)</code></td><td style="text-align: left"><code>DROP INDEX name IF EXISTS</code></td></tr><tr><td style="text-align: left"><code>create_constraint(:L, :p, :type)</code></td><td style="text-align: left"><code>CREATE CONSTRAINT ...</code></td></tr><tr><td style="text-align: left"><code>drop_constraint(:name)</code></td><td style="text-align: left"><code>DROP CONSTRAINT name IF EXISTS</code></td></tr></table><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Simple traversal
result = @cypher conn begin
    p::Person &gt;&gt; r::KNOWS &gt;&gt; q::Person
    where(p.age &gt; $min_age, q.name == $target)
    ret(p.name =&gt; :name, r.since, q.name =&gt; :friend)
    order(p.age, :desc)
    take(10)
end

# Mutations with auto-SET
@cypher conn begin
    p::Person
    where(p.name == $name)
    p.age = $new_age
    p.active = true
    ret(p)
end

# Create relationships with &gt;&gt; in create()
@cypher conn begin
    match(a::Person, b::Person)
    where(a.name == $n1, b.name == $n2)
    create(a &gt;&gt; r::KNOWS &gt;&gt; b)
    r.since = $year
    ret(r)
end

# UNION
@cypher conn begin
    p::Person
    where(p.age &gt; 30)
    ret(p.name =&gt; :name)
    union()
    p::Person
    where(startswith(p.name, &quot;A&quot;))
    ret(p.name =&gt; :name)
end

# CALL subquery
@cypher conn begin
    p::Person
    call(begin
        with(p)
        p &gt;&gt; r::KNOWS &gt;&gt; friend::Person
        ret(count(friend) =&gt; :friend_count)
    end)
    ret(p.name =&gt; :name, friend_count)
end

# FOREACH
@cypher conn begin
    p::Person
    where(p.active == true)
    foreach(collect(p) =&gt; :n, begin
        n.verified = true
    end)
end

# Comprehension form
result = @cypher conn [p.name for p in Person if p.age &gt; 25]

# Quantified relationship (variable-length)
result = @cypher conn begin
    a::Person &gt;&gt; KNOWS{1,5} &gt;&gt; b::Person
    where(a.name == $start)
    ret(a, b)
end

# Path variable assignment
result = @cypher conn begin
    p = a::Person &gt;&gt; KNOWS &gt;&gt; b::Person
    ret(p, length(p))
end

# Shortest path
result = @cypher conn begin
    shortest(1, a::Station &gt;&gt; LINK{1,nothing} &gt;&gt; b::Station)
    where(a.name == $src, b.name == $dst)
    ret(a, b)
end

# All shortest with path variable
result = @cypher conn begin
    p = all_shortest(a::Station &gt;&gt; LINK{1,nothing} &gt;&gt; b::Station)
    where(a.name == $src, b.name == $dst)
    ret(p, length(p) =&gt; :hops)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/cypher.jl#L1123-L1288">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@create"><a class="docstring-binding" href="#Neo4jQuery.@create"><code>Neo4jQuery.@create</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@create conn Label(prop1=val1, prop2=val2, ...)</code></pre><p>Create a single node with the given label and properties. Returns the created <code>Node</code>.</p><p>If a schema is registered for <code>Label</code> (via <code>@node</code>), properties are validated at runtime — missing required properties raise an error.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@node Person begin
    name::String
    age::Int
end

alice = @create conn Person(name=&quot;Alice&quot;, age=30)
# alice is a Node with labels=[&quot;Person&quot;], properties={name: &quot;Alice&quot;, age: 30}

# Variables work too:
name = &quot;Bob&quot;
age = 25
bob = @create conn Person(name=name, age=age)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/mutations.jl#L10-L34">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@merge"><a class="docstring-binding" href="#Neo4jQuery.@merge"><code>Neo4jQuery.@merge</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@merge conn Label(match_prop=val) on_create(prop=val, ...) on_match(prop=val, ...)</code></pre><p>MERGE a node by matching properties, with optional ON CREATE SET and ON MATCH SET.</p><p>Returns the merged <code>Node</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Merge by name, set age only on creation, update last_seen on every match
node = @merge conn Person(name=&quot;Alice&quot;) on_create(age=30) on_match(last_seen=&quot;2025-02-15&quot;)

# Simple merge (no on_create/on_match):
node = @merge conn Person(name=&quot;Alice&quot;, age=30)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/mutations.jl#L83-L98">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Neo4jQuery.@relate"><a class="docstring-binding" href="#Neo4jQuery.@relate"><code>Neo4jQuery.@relate</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@relate conn start_node =&gt; REL_TYPE(props...) =&gt; end_node</code></pre><p>Create a relationship between two existing <code>Node</code> objects. Returns the created <code>Relationship</code>.</p><p>Uses <code>elementId()</code> to match the start and end nodes.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">alice = @create conn Person(name=&quot;Alice&quot;, age=30)
bob   = @create conn Person(name=&quot;Bob&quot;, age=25)

rel = @relate conn alice =&gt; KNOWS(since=2024) =&gt; bob
# rel is a Relationship with type=&quot;KNOWS&quot;, properties={since: 2024}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/algunion/Neo4jQuery.jl/blob/d5ebfd4add02c7f2b879ce43d74d44d4917e0772/src/dsl/mutations.jl#L177-L193">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../guide/biomedical_case_study/">« Biomedical Case Study</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 17 February 2026 15:25">Tuesday 17 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
